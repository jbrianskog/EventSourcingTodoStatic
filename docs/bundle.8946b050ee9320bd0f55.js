!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=15)}([function(e,t,n){"use strict";function o(e){var t="template#"+e,n=document.querySelector(t);if(!n)throw new Error("Document missing required '"+t+"' element");return document.importNode(n.content,!0)}function r(e,t){return l(e,"[data-estd-controller='"+t+"']")}function i(e,t,n){a(e,t).forEach(function(e){return e.textContent=n})}function a(e,t){return s(e,"[data-estd-content='"+t+"']")}function u(e,t,n){var o="data-estd-"+t;d(e,t).forEach(function(e){return e.setAttribute(o,n)})}function d(e,t){return s(e,"[data-estd-prop='"+t+"']")}function l(e,t){var n=e.querySelector(t);if(!n)throw new Error("'"+e+"' missing required '"+t+"' element");return n}function s(e,t){var n=e.querySelectorAll(t);if(!n.length)throw new Error("'"+e+"' missing required '"+t+"' element");return n}function c(e,t){e.innerHTML="",e.appendChild(t)}function f(e,t){var n=e.getAttribute(t);if(!n)throw new Error("'"+e+"' missing required '"+t+"' attribute");return n}Object.defineProperty(t,"__esModule",{value:!0}),t.templateClone=o,t.findControllerElement=r,t.setContentElement=i,t.setPropElements=u,t.findElement=l,t.replaceChildren=c,t.getRequiredAttribute=f},function(e,t,n){"use strict";function o(){return u.default.open(d,1,function(e){switch(e.oldVersion){case 0:e.createObjectStore(l,{autoIncrement:!0,keyPath:c}).createIndex(s,s)}}).catch(function(e){alert("Database error: "+e)})}function r(e){return o().then(function(t){var n=t.transaction(l).objectStore(l);return e?n.getAll(IDBKeyRange.upperBound(e)):n.getAll()}).catch(function(e){alert("Database error: "+e)})}function i(e,t){return o().then(function(n){var o=n.transaction(l).objectStore(l).index(s),r=o.getAll(e);return t?r.then(function(e){return e.filter(function(e){return e.id<=t})}):r}).catch(function(e){alert("Database error: "+e)})}function a(e){return o().then(function(t){var n=t.transaction(l,"readwrite"),o=n.objectStore(l);return e.forEach(function(e){return o.add(e)}),n.complete}).catch(function(e){alert("Database error: "+e)})}Object.defineProperty(t,"__esModule",{value:!0});var u=n(25);!function(e){e[e.TodoAdded=0]="TodoAdded",e[e.TodoRemoved=1]="TodoRemoved",e[e.TodoCompleted=2]="TodoCompleted",e[e.TodoUncompleted=3]="TodoUncompleted",e[e.TodoRenamed=4]="TodoRenamed",e[e.TodoPositionChanged=5]="TodoPositionChanged"}(t.DomainEventType||(t.DomainEventType={}));var d="estd-db",l="domain-event",s="aggregateId",c="id";t.allDomainEvents=r,t.domainEventsByAggregate=i,t.postDomainEvents=a},function(e,t,n){"use strict";function o(){return i.allDomainEvents().then(function(e){var t=r(e);return t.length?i.domainEventsByAggregate(t[0]):[]})}function r(e){return e.reduce(function(e,t){return t.type===i.DomainEventType.TodoAdded&&-1===e.indexOf(t.aggregateId)&&e.push(t.aggregateId),e},[])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.todoListEvents=o},function(e,t,n){"use strict";function o(e){return i.domainEventsByAggregate(e).then(function(e){var t=new u.TodoList(e);a.replaceChildren(a.findControllerElement(document,"todoListPanelController"),d.todoListPanelController(t.todos)),a.replaceChildren(a.findControllerElement(document,"completedTodoListPanelController"),l.completedTodoListPanelController(t.completedTodos)),a.replaceChildren(a.findControllerElement(document,"eventListController"),s.eventListController(e))})}function r(e){function t(){r.removeClass("has-error"),i.removeClass("btn-danger").addClass("btn-success"),r.off(a),o.off(a)}var n=e.currentTarget,o=$(n),r=o.closest("form"),i=o.next().children("button");r.addClass("has-error"),i.removeClass("btn-success").addClass("btn-danger");var a=".nameTodoInputValidation:"+e.timeStamp.toString().replace(".","");o.on("input"+a,function(e){n.validity.valid&&t()}),r.on("focusout"+a,function(e){setTimeout(function(){e.currentTarget.contains(document.activeElement)||t()},0)})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),u=n(9),d=n(7),l=n(4),s=n(5);t.refreshLists=o,t.invalidNameInputHandler=r},function(e,t,n){"use strict";function o(e){if(!e.length)return new DocumentFragment;var t=r.templateClone("completedTodoListPanelTemplate");return r.findControllerElement(t,"todoListController").appendChild(i.todoListController(e)),t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(6);t.completedTodoListPanelController=o},function(e,t,n){"use strict";function o(e){if(e.length){var t=r.templateClone("eventListTemplate");return r.setContentElement(t,"eventListText",e.reduce(function(e,t){return e+JSON.stringify(t)+"\n"},"")),t}return r.templateClone("emptyEventListTemplate")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.eventListController=o},function(e,t,n){"use strict";function o(e){var t=r.templateClone("todoListTemplate");return r.findControllerElement(t,"todoListGroupController").appendChild(i.todoListGroupController(e)),t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(19);t.todoListController=o},function(e,t,n){"use strict";function o(e){if(!e.length)return new DocumentFragment;var t=r.templateClone("todoListPanelTemplate");return r.findControllerElement(t,"todoListController").appendChild(i.todoListController(e)),t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(6);t.todoListPanelController=o},function(e,t,n){"use strict";function o(e){var t=r.templateClone("todoTitleTemplate");if(r.setContentElement(t,"name",e.name),e.isCompleted){var n=r.templateClone("todoCompletionDateTemplate"),o=new Date(e.completionTimestamp);r.setContentElement(n,"completionDate",o.toLocaleDateString()),t.appendChild(n)}return t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.todoTitleController=o},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(o)};Object.defineProperty(t,"__esModule",{value:!0});var d=n(22),l=n(24),s=n(23),c=n(10),f=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"init",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),this._todos=[]}},{key:"TodoAdded",value:function(e){this.id||(this._id=e.aggregateId),this._todos.push(new l.Todo(e.todoId,e.todoName))}},{key:"TodoRemoved",value:function(e){var t=this._todos.findIndex(function(t){return t.id===e.todoId});-1!==t&&this._todos.splice(t,1)}},{key:"TodoCompleted",value:function(e){var t=this._todos.findIndex(function(t){return t.id===e.todoId});if(-1!==t){var n=this._todos[t],o=new l.CompletedTodo(n.id,n.name,e.todoCompletionTimestamp);this._todos[t]=o}}},{key:"TodoUncompleted",value:function(e){var t=this._todos.findIndex(function(t){return t.id===e.todoId});if(-1!==t){var n=this._todos[t],o=new l.Todo(n.id,n.name);this._todos[t]=o}}},{key:"TodoRenamed",value:function(e){var t=this._todos.find(function(t){return t.id===e.todoId});t&&(t.name=e.todoName)}},{key:"TodoPositionChanged",value:function(e){function t(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}var n=this,o=this._todos.reduce(function(e,t,n){return t.isCompleted||e.push(n),e},new Array),r=o.findIndex(function(t){return n._todos[t].id===e.todoId});if(-1!==r){var i=r+e.todoOffset;if(i<0?i=0:i>o.length-1&&(i=o.length-1),r!==i)if(i<r)for(var a=i;a<r;a++)t(this._todos,o[r],o[a]);else for(var u=i;u>r;u--)t(this._todos,o[r],o[u])}}},{key:"add",value:function(e,t){var n=this.id||c.v4();this.applyAndStage(new s.TodoAdded(n,e,t))}},{key:"remove",value:function(e){this.applyAndStage(new s.TodoRemoved(this.id,e))}},{key:"complete",value:function(e,t){this.applyAndStage(new s.TodoCompleted(this.id,e,t))}},{key:"uncomplete",value:function(e){this.applyAndStage(new s.TodoUncompleted(this.id,e))}},{key:"rename",value:function(e,t){this.applyAndStage(new s.TodoRenamed(this.id,e,t))}},{key:"changePosition",value:function(e,t){this.applyAndStage(new s.TodoPositionChanged(this.id,e,t))}},{key:"todos",get:function(){return this._todos.filter(function(e){return!e.isCompleted})}},{key:"completedTodos",get:function(){return this._todos.filter(function(e){return e.isCompleted}).sort(function(e,t){return t.completionTimestamp-e.completionTimestamp})}}]),t}(d.AggregateRoot);t.TodoList=f},function(e,t,n){var o=n(26),r=n(27),i=r;i.v1=o,i.v4=r,e.exports=i},function(e,t){function n(e,t){var n=t||0,r=o;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}for(var o=[],r=0;r<256;++r)o[r]=(r+256).toString(16).substr(1);e.exports=n},function(e,t,n){(function(t){var n,o=t.crypto||t.msCrypto;if(o&&o.getRandomValues){var r=new Uint8Array(16);n=function(){return o.getRandomValues(r),r}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=n}).call(t,n(28))},function(e,t,n){"use strict";function o(e){function t(e,t){if("keypress"!==e.type||13===e.which){var n=$(e.currentTarget).find(".todoActionsBtn")[0];n===e.target||$.contains(n,e.target)||l.domainEventsByAggregate(p).then(function(n){var o=new d.TodoList(n),i=r.getRequiredAttribute(e.currentTarget,"data-estd-todo-id");return t?o.complete(i,Date.now()):o.uncomplete(i),l.postDomainEvents(o.uncommittedEvents)}).then(function(){return c.refreshLists(p)})}}var n=r.templateClone("bodyTemplate"),o=new d.TodoList(e),p=o.id,m=r.findElement(n,"#addTodoForm"),v=r.findElement(m,"#addTodoInput");$(v).on("invalid",c.invalidNameInputHandler),$(m).submit(function(e){e.preventDefault(),(p?l.domainEventsByAggregate(p):f.todoListEvents()).then(function(e){var t=new d.TodoList(e);return t.add(s.v4(),v.value),m.reset(),p=t.id,l.postDomainEvents(t.uncommittedEvents)}).then(function(){return c.refreshLists(p)})});var h=$(r.findElement(n,"#todolistDelegatedEventTarget"));return h.on("submit",".renameTodoForm",function(e){e.preventDefault(),l.domainEventsByAggregate(p).then(function(t){var n=new d.TodoList(t),o=$(e.currentTarget).find("input[name='name']").val(),i=r.getRequiredAttribute(e.currentTarget,"data-estd-todo-id");return n.rename(i,o),l.postDomainEvents(n.uncommittedEvents)}).then(function(){return c.refreshLists(p)})}),h.on("click keypress",".completeTodoBtn",function(e){t(e,!0)}),h.on("click keypress",".uncompleteTodoBtn",function(e){t(e,!1)}),h.on("click",".moveTodoUpBtn",function(e){l.domainEventsByAggregate(p).then(function(t){var n=new d.TodoList(t),o=r.getRequiredAttribute(e.currentTarget,"data-estd-todo-id");return n.changePosition(o,-1),l.postDomainEvents(n.uncommittedEvents)}).then(function(){return c.refreshLists(p)})}),h.on("click",".moveTodoDownBtn",function(e){l.domainEventsByAggregate(p).then(function(t){var n=new d.TodoList(t),o=r.getRequiredAttribute(e.currentTarget,"data-estd-todo-id");return n.changePosition(o,1),l.postDomainEvents(n.uncommittedEvents)}).then(function(){return c.refreshLists(p)})}),h.on("click",".deleteTodoBtn",function(e){l.domainEventsByAggregate(p).then(function(t){var n=new d.TodoList(t),o=r.getRequiredAttribute(e.currentTarget,"data-estd-todo-id");return n.remove(o),l.postDomainEvents(n.uncommittedEvents)}).then(function(){return c.refreshLists(p)})}),h.on("click",".todoActionsBtn",function(e){var t=$(e.currentTarget).closest(".todoPanelDefault"),n=t.next(),o=t.add(n),r=n.find(".todoActionsPanelBtnGroup")[0],i="click.todoActionsPanelClose:"+e.timeStamp.toString().replace(".","");o.toggle(),$(document).on(i,function(t){e.originalEvent!==t.originalEvent&&($.contains(r,t.target)||o.toggle(),$(document).off(i))})}),h.on("click",".renameTodoBtn",function(e){var t=$(e.currentTarget).closest(".todoActionsPanel"),n=t.next();t.add(n).toggle(),n.find(".renameTodoBtnClickFocusTarget").first().focus()}),h.on("blur",".renameTodoForm",function(e){if(!e.relatedTarget||!$.contains(e.currentTarget,e.relatedTarget)){var t=$(e.currentTarget).closest(".todoRenamePanel");t.prev().prev().add(t).toggle()}}),r.findControllerElement(n,"todoListPanelController").appendChild(i.todoListPanelController(o.todos)),r.findControllerElement(n,"completedTodoListPanelController").appendChild(a.completedTodoListPanelController(o.completedTodos)),r.findControllerElement(n,"eventListController").appendChild(u.eventListController(e)),n}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(7),a=n(4),u=n(5),d=n(9),l=n(1),s=n(10),c=n(3),f=n(2);t.bodyController=o},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(14);var o=n(13),r=n(0),i=n(2);window.indexedDB||window.alert("Your browser doesn't support IndexedDB (the browser feature this app uses to store your To-dos). Update your browser to its latest version."),i.todoListEvents().then(function(e){r.findControllerElement(document,"bodyController").appendChild(o.bodyController(e))})},function(e,t,n){"use strict";function o(e){var t=r.templateClone("todoDeleteBtnTemplate");e.isCompleted||(t.appendChild(r.templateClone("todoMoveUpBtnTemplate")),t.appendChild(r.templateClone("todoMoveDownBtnTemplate")));var n=!0,o=!1,i=void 0;try{for(var a,u=t.querySelectorAll("button")[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){a.value.dataset.todoId=e.id}}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return t.appendChild(r.templateClone("todoRenameBtnTemplate")),r.setPropElements(t,"todo-id",e.id),t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.todoActionsPanelButtonsController=o},function(e,t,n){"use strict";function o(e){var t=r.templateClone("todoActionsPanelTemplate");return r.findControllerElement(t,"todoTitleController").appendChild(i.todoTitleController(e)),r.findControllerElement(t,"todoActionsPanelButtonsController").appendChild(a.todoActionsPanelButtonsController(e)),t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(8),a=n(16);t.todoActionsPanelController=o},function(e,t,n){"use strict";function o(e){var t=e.isCompleted?r.templateClone("completedTodoTemplate"):r.templateClone("todoTemplate");return r.setPropElements(t,"todo-id",e.id),r.findControllerElement(t,"todoTitlePanelController").appendChild(i.todoTitlePanelController(e)),r.findControllerElement(t,"todoActionsPanelController").appendChild(a.todoActionsPanelController(e)),r.findControllerElement(t,"todoRenamePanelController").appendChild(u.todoRenamePanelController(e)),t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(21),a=n(17),u=n(20);t.todoController=o},function(e,t,n){"use strict";function o(e){var t=new DocumentFragment,n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var d=a.value;t.appendChild(r.todoController(d))}}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(18);t.todoListGroupController=o},function(e,t,n){"use strict";function o(e){var t=r.templateClone("todoRenamePanelTemplate"),n=r.findElement(t,"input[name='name']"),o=n.getAttribute("id"),a=o+"-"+e.id,u=r.findElement(t,"label[for='"+o+"']");return n.setAttribute("id",a),n.setAttribute("value",e.name),u.setAttribute("for",a),r.setPropElements(t,"todo-id",e.id),$(n).on("invalid",i.invalidNameInputHandler),t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(3);t.todoRenamePanelController=o},function(e,t,n){"use strict";function o(e){var t=r.templateClone("todoTitlePanelTemplate");return r.findControllerElement(t,"todoTitleController").appendChild(i.todoTitleController(e)),t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(8);t.todoTitlePanelController=o},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=function(){function e(t){var n=this;o(this,e),this.init(),t.forEach(function(e){n[i.DomainEventType[e.type]](e)})}return r(e,[{key:"init",value:function(){this._uncommittedEvents=new Array}},{key:"uncommittedEvents",get:function(){return this._uncommittedEvents}},{key:"id",get:function(){return this._id}}]),r(e,[{key:"applyAndStage",value:function(e){this[i.DomainEventType[e.type]](e),this._uncommittedEvents.push(e)}}]),e}();t.AggregateRoot=a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function e(t,n,i){o(this,e),this.aggregateId=t,this.todoId=n,this.todoName=i,this.type=r.DomainEventType.TodoAdded};t.TodoAdded=i;var a=function e(t,n){o(this,e),this.aggregateId=t,this.todoId=n,this.type=r.DomainEventType.TodoRemoved};t.TodoRemoved=a;var u=function e(t,n,i){o(this,e),this.aggregateId=t,this.todoId=n,this.todoCompletionTimestamp=i,this.type=r.DomainEventType.TodoCompleted};t.TodoCompleted=u;var d=function e(t,n){o(this,e),this.aggregateId=t,this.todoId=n,this.type=r.DomainEventType.TodoUncompleted};t.TodoUncompleted=d;var l=function e(t,n,i){o(this,e),this.aggregateId=t,this.todoId=n,this.todoName=i,this.type=r.DomainEventType.TodoRenamed};t.TodoRenamed=l;var s=function e(t,n,i){o(this,e),this.aggregateId=t,this.todoId=n,this.todoOffset=i,this.type=r.DomainEventType.TodoPositionChanged};t.TodoPositionChanged=s},function(e,t,n){"use strict";function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t,n){i(this,e),this.id=t,this.name=n,this.isCompleted=!1};t.Todo=a;var u=function(e){function t(e,n,r){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.completionTimestamp=r,a.isCompleted=!0,a}return r(t,e),t}(a);t.CompletedTodo=u},function(e,t,n){"use strict";!function(){function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function o(e,t,o){var r,i=new Promise(function(i,a){r=e[t].apply(e,o),n(r).then(i,a)});return i.request=r,i}function r(e,t,n){var r=o(e,t,n);return r.then(function(e){if(e)return new s(e,r.request)})}function i(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function a(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return o(this[t],r,arguments)})})}function u(e,t,n,o){o.forEach(function(o){o in n.prototype&&(e.prototype[o]=function(){return this[t][o].apply(this[t],arguments)})})}function d(e,t,n,o){o.forEach(function(o){o in n.prototype&&(e.prototype[o]=function(){return r(this[t],o,arguments)})})}function l(e){this._index=e}function s(e,t){this._cursor=e,this._request=t}function c(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function p(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function m(e){this._db=e}i(l,"_index",["name","keyPath","multiEntry","unique"]),a(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),d(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),i(s,"_cursor",["direction","key","primaryKey","value"]),a(s,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(s.prototype[e]=function(){var t=this,o=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,o),n(t._request).then(function(e){if(e)return new s(e,t._request)})})})}),c.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},c.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},i(c,"_store",["name","keyPath","indexNames","autoIncrement"]),a(c,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),d(c,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),u(c,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new c(this._tx.objectStore.apply(this._tx,arguments))},i(f,"_tx",["objectStoreNames","mode"]),u(f,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new c(this._db.createObjectStore.apply(this._db,arguments))},i(p,"_db",["name","version","objectStoreNames"]),u(p,"_db",IDBDatabase,["deleteObjectStore","close"]),m.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},i(m,"_db",["name","version","objectStoreNames"]),u(m,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[c,l].forEach(function(n){n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),o=n[n.length-1],r=this._store||this._index,i=r[e].apply(r,n.slice(0,-1));i.onsuccess=function(){o(i.result)}}})}),[l,c].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,o=[];return new Promise(function(r){n.iterateCursor(e,function(e){return e?(o.push(e.value),void 0!==t&&o.length==t?void r(o):void e.continue()):void r(o)})})})});var v={open:function(e,t,n){var r=o(indexedDB,"open",[e,t]),i=r.request;return i.onupgradeneeded=function(e){n&&n(new p(i.result,e.oldVersion,i.transaction))},r.then(function(e){return new m(e)})},delete:function(e){return o(indexedDB,"deleteDatabase",[e])}};e.exports=v,e.exports.default=e.exports}()},function(e,t,n){function o(e,t,n){var o=t&&n||0,r=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:d,c=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:s+1,p=c-l+(f-s)/1e4;if(p<0&&void 0===e.clockseq&&(a=a+1&16383),(p<0||c>l)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=c,s=f,d=a,c+=122192928e5;var m=(1e4*(268435455&c)+f)%4294967296;r[o++]=m>>>24&255,r[o++]=m>>>16&255,r[o++]=m>>>8&255,r[o++]=255&m;var v=c/4294967296*1e4&268435455;r[o++]=v>>>8&255,r[o++]=255&v,r[o++]=v>>>24&15|16,r[o++]=v>>>16&255,r[o++]=a>>>8|128,r[o++]=255&a;for(var h=e.node||u,y=0;y<6;++y)r[o+y]=h[y];return t||i(r)}var r=n(12),i=n(11),a=r(),u=[1|a[0],a[1],a[2],a[3],a[4],a[5]],d=16383&(a[6]<<8|a[7]),l=0,s=0;e.exports=o},function(e,t,n){function o(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[o+u]=a[u];return t||i(a)}var r=n(12),i=n(11);e.exports=o},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n}]);
//# sourceMappingURL=bundle.8946b050ee9320bd0f55.js.map